<?xml version="1.0" encoding="utf-8" ?>
<manifest>
  <control
    namespace="ADC"
    constructor="BusinessProcessFlowViewer"
    version="0.1.5"
    display-name-key="BusinessProcessFlowViewer"
    description-key="BusinessProcessFlowViewer_Desc"
    control-type="virtual"
    preview-image="preview.svg"
  >
    <external-service-usage enabled="false" />

    <!-- ========================================
         BPF CONFIGURATION
         ======================================== -->

    <!-- BPF Configuration (JSON) -->
    <property
      name="parametersBPF"
      display-name-key="BpfConfiguration"
      description-key="BpfConfiguration_Desc"
      of-type="SingleLine.Text"
      usage="input"
      required="true"
      default-value='{"bpfs":[{"bpfEntitySchemaName":"opportunitysalesprocess","lookupFieldSchemaName":"_opportunityid_value"}]}'
    />

    <!-- ========================================
         DISPLAY OPTIONS
         ======================================== -->

    <!-- Design Style -->
    <property
      name="designStyle"
      display-name-key="DesignStyle"
      description-key="DesignStyle_Desc"
      of-type="Enum"
      usage="input"
      required="true"
      default-value="chevron"
    >
      <value name="chevron" display-name-key="DesignChevron">chevron</value>
      <value name="circles" display-name-key="DesignCircles">circles</value>
      <value name="pills" display-name-key="DesignPills">pills</value>
      <value name="segmented" display-name-key="DesignSegmented">segmented</value>
      <value name="stepper" display-name-key="DesignStepper">stepper</value>
      <value name="gradient" display-name-key="DesignGradient">gradient</value>
      <value name="line" display-name-key="DesignLine">line</value>
      <value name="fraction" display-name-key="DesignFraction">fraction</value>
    </property>

    <!-- Display Mode: Stage or Category -->
    <property
      name="displayMode"
      display-name-key="DisplayMode"
      description-key="DisplayMode_Desc"
      of-type="Enum"
      usage="input"
      required="true"
      default-value="stage"
    >
      <value name="stage" display-name-key="DisplayStage">stage</value>
      <value name="category" display-name-key="DisplayCategory">category</value>
    </property>

    <!-- Record Name Size -->
    <property
      name="recordNameSize"
      display-name-key="RecordNameSize"
      description-key="RecordNameSize_Desc"
      of-type="Enum"
      usage="input"
      required="true"
      default-value="medium"
    >
      <value name="small" display-name-key="SizeSmall">small</value>
      <value name="medium" display-name-key="SizeMedium">medium</value>
      <value name="large" display-name-key="SizeLarge">large</value>
    </property>

    <!-- Show Entity Display Name -->
    <property
      name="showEntityName"
      display-name-key="ShowEntityName"
      description-key="ShowEntityName_Desc"
      of-type="Enum"
      usage="input"
      required="true"
      default-value="yes"
    >
      <value name="yes" display-name-key="Yes">yes</value>
      <value name="no" display-name-key="No">no</value>
    </property>

    <!-- Enable Click to Open Record -->
    <property
      name="enableNavigation"
      display-name-key="EnableNavigation"
      description-key="EnableNavigation_Desc"
      of-type="Enum"
      usage="input"
      required="true"
      default-value="yes"
    >
      <value name="yes" display-name-key="Yes">yes</value>
      <value name="no" display-name-key="No">no</value>
    </property>

    <!-- Show Pulse Animation on Active Stage -->
    <property
      name="showPulseAnimation"
      display-name-key="ShowPulseAnimation"
      description-key="ShowPulseAnimation_Desc"
      of-type="Enum"
      usage="input"
      required="true"
      default-value="yes"
    >
      <value name="yes" display-name-key="Yes">yes</value>
      <value name="no" display-name-key="No">no</value>
    </property>

    <!-- ========================================
         COLOR CONFIGURATION
         ======================================== -->

    <!-- Use Platform Theme -->
    <property
      name="usePlatformTheme"
      display-name-key="UsePlatformTheme"
      description-key="UsePlatformTheme_Desc"
      of-type="Enum"
      usage="input"
      required="true"
      default-value="yes"
    >
      <value name="yes" display-name-key="Yes">yes</value>
      <value name="no" display-name-key="No">no</value>
    </property>

    <!-- Custom Colors (used when usePlatformTheme = no)
         NOTE: Runtime defaults live in utils/themeUtils.ts (DEFAULT_COLORS_LIGHT).
         The default-value attributes below are for the Dataverse form editor UI only. -->
    <property name="completedColor" display-name-key="CompletedColor" description-key="CompletedColor_Desc" of-type="SingleLine.Text" usage="input" required="false" default-value="#107C10" />
    <property name="completedTextColor" display-name-key="CompletedTextColor" description-key="CompletedTextColor_Desc" of-type="SingleLine.Text" usage="input" required="false" default-value="#FFFFFF" />
    <property name="activeColor" display-name-key="ActiveColor" description-key="ActiveColor_Desc" of-type="SingleLine.Text" usage="input" required="false" default-value="#0078D4" />
    <property name="activeTextColor" display-name-key="ActiveTextColor" description-key="ActiveTextColor_Desc" of-type="SingleLine.Text" usage="input" required="false" default-value="#FFFFFF" />
    <property name="inactiveColor" display-name-key="InactiveColor" description-key="InactiveColor_Desc" of-type="SingleLine.Text" usage="input" required="false" default-value="#E1E1E1" />
    <property name="inactiveTextColor" display-name-key="InactiveTextColor" description-key="InactiveTextColor_Desc" of-type="SingleLine.Text" usage="input" required="false" default-value="#666666" />

    <!-- ========================================
         DATASET
         ======================================== -->

    <data-set name="records" display-name-key="Records" cds-data-set-options="displayCommandBar:false;displayViewSelector:false;displayQuickFind:false">
    </data-set>

    <!-- ========================================
         RESOURCES
         ======================================== -->

    <resources>
      <code path="index.ts" order="1" />
      <!-- Platform Libraries for Virtual PCF -->
      <platform-library name="React" version="16.14.0" />
      <platform-library name="Fluent" version="9.46.2" />
      <!-- Localization -->
      <resx path="strings/BusinessProcessFlowViewer.1033.resx" version="1.0.0" />
    </resources>

    <feature-usage>
      <uses-feature name="WebAPI" required="true" />
      <uses-feature name="Utility" required="true" />
    </feature-usage>
  </control>
</manifest>
